<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<button id='button'>新闻数据</button>
		<ul id='news'></ul>
	</body>
	<script type="text/javascript">
		
		let oBtn = document.getElementById("button");
		let oUl = document.getElementById("news");
		
		//点击时请求数据
		oBtn.onclick = function(){
			let xhr = new XMLHttpRequest();
			xhr.open('GET','getNews.php');
			xhr.send();
			xhr.onreadystatechange = function(){
				if(xhr.readyState == 4){
					if(xhr.status == 200){
												
						console.log(xhr.responseText);
						let arr = JSON.parse(xhr.responseText);
						console.log(arr);
						
						arr.forEach(function(item,i){
							oUl.innerHTML += (
								`<li>
									<a href='#'>${item.title}</a>
									<span>${item.date}</span>
								</li>`
							)
						})						
					}
				}
			}
		}
		
	</script>
</html>
